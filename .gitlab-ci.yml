variables:
  GIT_SUBMODULE_STRATEGY: normal

.build: &build_core
  stage: build
  image: maven:3.3.3-jdk-8
  script: 
  - mvn package
  - cp lutra-cli/target/lutra.jar lutra.jar

build_develop:
  <<: *build_core
  only: 
    - develop
  artifacts:
    expire_in: 3 mos 1day
    paths:
    - lutra.jar

build_tags:
  <<: *build_core
  only: 
    - tags
  artifacts:
    paths:
    - lutra.jar
